# Import necessary modules\nfrom PIL import Image, ImageDraw, ImageFont\nfrom io import BytesIO\nfrom flask import Flask, render_template, request, send_file\n\n# Define badge generator function\ndef generate_badge(size, color, font, text, embossed):\n    # Define image size and color\n    if embossed:\n        size += 10\n        color = 'white'\n    img = Image.new('RGB', (size, size), color)\n\n    # Draw a filled circle\n    draw = ImageDraw.Draw(img)\n    draw.pieslice((0, 0, size, size), 0, 360, fill=color)\n\n    # Add text\n    font = ImageFont.truetype(font, int(size/4))\n    text_width, text_height = draw.textsize(text, font=font)\n    draw.text(((size-text_width)/2, (size-text_height)/2), text, fill='black', font=font)\n\n    # Add embossing\n    if embossed:\n        draw.chord((0, 0, size, size), 0, 360, outline='gray', width=5)\n        draw.chord((0, 0, size, size), 180, 360, outline='lightgray', width=5)\n\n    # Save image\n    file = BytesIO()\n    img.save(file, 'png')\n    file.seek(0)\n\n    return file\n\n# Define Flask app\napp = Flask(__name__)\n\n# Define view function\n@app.route('/')\ndef badge():\n    return render_template('badge_form.html')\n\n# Define route for form submission\n@app.route('/', methods=['POST'])\ndef generate():\n    # Get user input\n    size = int(request.form['size'])\n    color = request.form['color']\n    text = request.form['text']\n    font = request.form['font']\n    embossed = bool(request.form.get('embossed'))\n\n    # Generate badge\n    file = generate_badge(size, color, font, text, embossed)\n\n    # Return rendered template\n    return send_file(file, mimetype='image/png')\n\n# Run Flask app\nif __name__ == '__main__':\n    app.run()\n